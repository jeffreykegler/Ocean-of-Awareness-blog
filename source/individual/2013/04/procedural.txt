Marpa's SLIF now allows procedural parsing
  <p>
      <!--
      marpa_r2_html_fmt --no-added-tag-comment --no-ws-ok-after-start-tag
      -->
    </p><p>
      Marpa's SLIF (scanless interface)
      allows an application to parse directly from any BNF grammar.
      Marpa parses vast classes of grammars in linear time,
      including all those classes currently in practical use.
      With
      <a href="https://metacpan.org/release/Marpa-R2">
      its latest release</a>,
      Marpa::R2's SLIF
      also allows an application to intermix
      its own custom lexing and parsing logic
      with Marpa's,
      and to switch back and forth between them.
      This means,
      among other things,
      that Marpa's SLIF can now
      do procedural parsing.
    </p>
    <p>
    What is procedural parsing?
    Procedural parsing is parsing using
      ad hoc code in a procedural language.
      The opposite of procedural parsing is declarative parsing
      -- parsing driven by some kind of formal description
      of the grammar.
      Procedural parsing
      may be described as what you do when you've given up
      on your parsing algorithm.
      Dissatisfaction with parsing theory 
      has left modern programmers accustomed to procedural parsing,
      and in fact some problems are best tackled that way.
    </p><h3>An example</h3>
    <p>
      One such problem is parsing Perl-style here-documents.
      Peter Stuifzand has tackled this using
      <a href="https://metacpan.org/release/JKEGL/Marpa-R2-2.052000">
      the
      just-released version of Marpa::R2</a>.
      For those unfamiliar, Perl allows documents to be incorporated
      into its source files in line-oriented fashion,
      and here-documents can be used in expressions.
      The syntax to do this is very handy, if more than a little strange.
      For example,
    </p>
    <blockquote><pre>
say &lt;&lt;ENDA, &lt;&lt;ENDB, &lt;&lt;ENDC; say &lt;&lt;ENDD;
a
ENDA
b
ENDB
c
ENDC
d
ENDD
    </pre></blockquote><p>
      starts with a single line declaring four here-documents spread out
      over two
      <tt>say</tt>
      statements.
      The expressions of the form
    </p><blockquote><pre>&lt;&lt;ENDX</pre></blockquote><p>
      are here-document expressions.
      <tt>&lt;&lt;</tt>
      is the heredoc operator.
      The string which follows it (in this example,
      <tt>ENDA</tt>,
      <tt>ENDB</tt>, etc.) is the heredoc terminator string --
      the string that will signal end
      of body of the here-document.
      The body of the here-documents follow, in order, over the next eight lines.
      More details of here-document syntax, with examples, can be found
      in
    <a href="http://perldoc.perl.org/perlop.html#Quote-Like-Operators">the
    Perl documentation</a>.
    </p>
    <p>All of this poses quite a challenge to a parser-lexer combination,
    which is one reason I chose it as an example --
    to illustrate that the Marpa's SLIF support for procedural parsing can
    handle genuinely difficult cases.
      There are a few ways Marpa could approach this.
      The one
      Peter Stuifzand chose was to
      to read the
      here-document's body as the value of the terminator in
      each
      <tt>&lt;&lt;ENDX</tt>
      expression.
    </p><p>
      The strategy works this way:
      Marpa allows the application to mark certain lexemes as "pause" lexemes.
      Whenever a "pause" lexeme is encountered, Marpa's internal scanning stops,
      and control is handed over to the application.
      In this case, the application is set up to pause after every newline,
      and before the terminator in every here-document expression.
    </p>
    <p>
      While reading the line containing the four here-document expressions,
      Marpa's SLIF pauses and resumes five times -- once for each here-document expression,
      then once for the final newline.
      Details can be found in compact form in the heavily commented code
    in <a href="https://gist.github.com/jeffreykegler/5431739">this
        Github gist</a>.
    </p>
    <h3>About Marpa</h3>
    <p>
      Marpa's latest version is
      <a href="https://metacpan.org/module/Marpa::R2">Marpa::R2,
        which is available on CPAN</a>.
	Marpa's
<a href="https://metacpan.org/module/JKEGL/Marpa-R2-2.052000/pod/Scanless/DSL.pod">SLIF
is
	a new interface</a>,
	which represents a major increase
	in Marpa's "whipitupitude".
      The SLIF has tutorials
      <a href="http://jeffreykegler.github.com/Ocean-of-Awareness-blog/individual/2013/01/dsl_simpler2.html">here
      </a>
      and
      <a href="http://jeffreykegler.github.com/Ocean-of-Awareness-blog/individual/2013/01/announce_scanless.html">
        here</a>.
      Marpa has
      <a href="http://jeffreykegler.github.com/Marpa-web-site/">a web page</a>,
      and of course it is the focus of
      <a href="http://jeffreykegler.github.com/Ocean-of-Awareness-blog/">
        my "Ocean of Awareness" blog</a>.
    </p>
    <p>
      Comments on this post
      can be sent to the Marpa's Google Group:
      <code>marpa-parser@googlegroups.com</code>
    </p>
